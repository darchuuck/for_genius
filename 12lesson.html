<!DOCTYPE html>
<html>

<head>
    <title>Advanced functions</title>
</head>

<body>

    <button class="finished-but" onclick="updateButton()">start</button>

    <div>
        <button class="added-btn" onclick="addToCart()">Add to cart</button>
        <p class="js-added"></p>
    </div>

    <div>
        <button class="add" onclick="copy++; displayNotification()">add</button>
        <button class="remove" onclick="
            if(copy > 0){
                copy--;
                    if(copy === 0){
                    stopNotification();
                }
            } 
        ">remove</button>
    </div>
    <script>
        // const add = function () {
        //     console.log(2 + 3);
        // }
        // add();

        // function runTwice(param) {
        //     param();
        //     param()
        // }

        // runTwice(function () { console.log('12b') })

        // function updateButton() {
        //     const finishBtn = document.querySelector('.finished-but');

        //     finishBtn.innerText = 'loading';
        //     setTimeout(function () {
        //         finishBtn.innerText = 'Finished';
        //     }, 1000)
        // }

        // let timeoutId;
        // function addToCart() {

        //     const addPar = document.querySelector('.js-added');
        //     addPar.innerHTML = 'Added!';

        //     clearTimeout(timeoutId)


        //     timeoutId = setTimeout(function () {
        //         addPar.innerHTML = '';
        //     }, 2000)

        // }


        let copy = 2;
        let intervalId;
        let isDisplayingNotification;

        displayNotification();

        function displayNotification() {

            if (isDisplayingNotification) {
                return;
            }

            isDisplayingNotification = true;

            intervalId = setInterval(function () {
                if (document.title === "app") {
                    document.title = `(${copy}) New messages`;
                } else {
                    document.title = `app`;
                }

            }, 1000)
        }

        function stopNotification() {
            isDisplayingNotification = false;
            clearInterval(intervalId);

            document.title = 'app'
        }


    </script>
</body>

</html>